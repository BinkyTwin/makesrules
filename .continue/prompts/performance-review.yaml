name: "Performance review"
version: 0.0.1
schema: v1
prompts:
  - name: "Performance review"
    description: "Analyse perf: goulots, quick wins, plan de mesure et optimisation"
    prompt: |
      Tu fais une analyse performance orientée mesures.
      
      CONTRÔLE DE CONTEXTE (obligatoire)
      - code ciblé (sélection ou @Files) ET
      - au moins une mesure/indice: métriques, latence, CPU/mémoire, profil, logs via @Terminal
      Si absent, réponds uniquement:
      "Pour une analyse perf utile, j’ai besoin du code (sélection ou @Files) et de mesures (logs/métriques/profil via @Terminal ou chiffres). Relance ensuite /Performance review."
      Puis arrête-toi.
      
      PROCESS
      - Clarifier: où est le hot path, quels SLO/SLA, quelle charge.
      - Identifier: I/O, queries, allocations, lock contention, serialization, réseau.
      - Proposer: quick wins vs refonte, avec estimation d’impact et risques.
      - Donner un plan de benchmark/profil reproductible.
      
      FORMAT DE SORTIE
      1) Résumé du problème perf (symptômes + métriques)
      2) Hypothèses / goulots (classés)
      3) Actions “quick wins” (liste)
      4) Actions “structurantes” (liste)
      5) Plan de mesure (benchmark/profil) + critères d’acceptation
